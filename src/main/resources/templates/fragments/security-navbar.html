<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Security Navbar</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark py-3 sticky-top"
         style="background: rgba(23,32,42,0.9); backdrop-filter: blur(8px);"
         th:fragment="security-navbar">
        <div class="container-fluid px-4">

            <a class="navbar-brand fw-bold fs-4 text-white" href="/security-dashboard">
                <i class="bi bi-shield-lock-fill me-2"></i>Security Dashboard
            </a>

            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#securityNavbar">
                <span class="navbar-toggler-icon"></span>
            </button>

            <div class="collapse navbar-collapse" id="securityNavbar">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">

                    <li class="nav-item dropdown me-lg-2">
                        <a class="nav-link dropdown-toggle text-white" href="#" id="visitorsDropdown" data-bs-toggle="dropdown">
                            <i class="bi bi-person-badge me-1"></i>Visitors
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            <li><a class="dropdown-item" href="/security/visitors/add"><i class="bi bi-person-plus me-2"></i>Add Visitor</a></li>
                            <li><a class="dropdown-item" href="/security/visitors/current"><i class="bi bi-eye me-2"></i>Current Visitors</a></li>
                            <li><a class="dropdown-item" href="/security/visitors/history"><i class="bi bi-clock-history me-2"></i>Visitor History</a></li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown me-lg-2">
                        <a class="nav-link dropdown-toggle text-white" href="#" id="deliveriesDropdown" data-bs-toggle="dropdown">
                            <i class="bi bi-box-seam me-1"></i>Deliveries
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            <li><a class="dropdown-item" href="/security/deliveries/add"><i class="bi bi-box-arrow-in-down me-2"></i>Log Delivery</a></li>
                            <li><a class="dropdown-item" href="/security/deliveries"><i class="bi bi-card-list me-2"></i>All Deliveries</a></li>
                        </ul>
                    </li>

                    <li class="nav-item dropdown me-lg-2">
                        <a class="nav-link dropdown-toggle text-white" href="#" id="parkingDropdown" data-bs-toggle="dropdown">
                            <i class="bi bi-truck-front me-1"></i>Parking
                        </a>
                        <ul class="dropdown-menu dropdown-menu-dark">
                            <li><a class="dropdown-item" href="/security/parking/entry"><i class="bi bi-sign-turn-right me-2"></i>Vehicle Entry</a></li>
                            <li><a class="dropdown-item" href="/security/parking/exit"><i class="bi bi-sign-turn-left me-2"></i>Vehicle Exit</a></li>
                            <li><a class="dropdown-item" href="/security/parking"><i class="bi bi-view-list me-2"></i>Parking Log</a></li>
                        </ul>
                    </li>


                    <li class="nav-item dropdown ms-lg-2">
                        <a class="nav-link dropdown-toggle text-white" href="#" id="userDropdown" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle me-1"></i>
                            <!-- <span th:text="${session.security.email}">security@example.com</span> -->
                            <span th:text="${session.secretary != null} ? ${session.secretary.email} : 'Guest'">Guest</span>
                            
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-dark">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person-lines-fill me-2"></i>Profile</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item text-danger" href="/logout"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</body>
</html>